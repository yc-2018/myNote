## ==7.== 端口转发（wsl地址转发到本地端口）

> **打开端口转发**
>
> ````bash
> netsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=2345 connectaddress=172.23.72.37 connectport=80
> ````
>
> 该命令是将Windows本机的2345端口转发到WSL环境的172.23.72.37地址的80端口。
>
> >其中:
> >
> >- listenaddress和listenport需要与添加规则时指定的IP地址和端口对应,比如本例是0.0.0.0和2345。
> >- 如果不指定listenaddress,默认删除与指定端口相关的所有规则。
> >- 如果不指定任何参数,会删除所有端口转发规则。
>
> **关闭从2345端口到WSL 80端口的转发规则,命令是**
>
> ````bash
> netsh interface portproxy delete v4tov4 listenaddress=0.0.0.0 listenport=2345
> ````
>
> >删除规则后,用netsh interface portproxy show v4tov4可以查看当前机器所有端口转发规则,确认规则已删除。
> >
> >此外,也可以直接**重启机器**,重启后所有自定义端口转发规则都**会失效**。
> >
> >通过删除或重启就可以关闭不需要的端口转发了。


