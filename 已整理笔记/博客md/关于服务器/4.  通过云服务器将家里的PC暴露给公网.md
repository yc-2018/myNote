## ==4.== 通过云服务器将家里的PC暴露给公网

2023.11.11（gpt4）：未验证

我现在的想法是
家里的PC80->云端服务器->学校pc使用家里的pc的80端口
所以ngrok要怎么样用，把家里的ps要怎么配置，云服务器要怎么配置，学校pc呀怎么使用 都详细说说

> 你的需求是通过云服务器将家里的PC（假设其运行在80端口的服务）暴露给公网，然后在学校的PC上访问家里的服务。下面是详细的步骤：
> **在云服务器上配置 Ngrok服务器**
>
> 1. **安装Go**：因为Ngrok服务器是用Go语言编写的，所以你需要在云服务器上安装Go。你可以从Go的[官方网站](https://golang.org/dl/)下载并安装。
> 2. **获取Ngrok的源代码**：你可以从Ngrok的GitHub仓库克隆源代码：
>     ```bash
>     git clone https://github.com/inconshreveable/ngrok.git
>     ```
> 3. **编译Ngrok**：在Ngrok的源代码目录下，执行以下命令来编译Ngrok：
>     ```bash
>     make release-server release-client
>     ```
>     这将在bin目录下生成ngrokd（Ngrok服务器）和ngrok（Ngrok客户端）。
> 4. **启动Ngrok服务器**：在你的云服务器上，执行以下命令来启动Ngrok服务器：
>     ```bash
>     ./bin/ngrokd -domain="你的域名" -httpAddr=":80"
>     ```
>     这将启动Ngrok服务器，并监听80端口。请确保你已经将你的域名解析到你的云服务器IP。
>     **在家里的PC上配置Ngrok客户端**
> 1. 将之前在云服务器上编译得到的ngrok（Ngrok客户端）复制到家里的PC上。
> 2. 在家里的PC上创建一个配置文件，例如ngrok.yml，并在其中配置你的内网服务的端口和你的Ngrok服务器的地址：
>     ```yaml
>     server_addr: "你的云服务器IP:80"
>     tunnels:
>       myservice:
>         proto: http
>         addr: 80
>     ```
> 3. 在家里的PC上，执行以下命令来启动Ngrok客户端：
>     ```bash
>     ./ngrok -config=ngrok.yml start myservice
>     ```
>     **在学校的PC上访问**
>     在学校的PC上，你可以通过你的域名在公网上访问你家里的内网服务。例如，如果你的域名是example.com，你可以在浏览器中输入http://example.com来访问你家里的服务。
>     请注意，搭建自己的ngrok服务需要一定的网络知识，并且在配置时需要注意安全问题。






