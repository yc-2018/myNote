## ==2.== MySQL复杂查询

> <kbd>2024.04.24</kbd> <kbd>MindGen 4.0</kbd>
>
> ### 连接查询（JOIN）
> 连接查询用于从两个或多个表中根据相关联的字段获取数据。
>
> ```sql
>  -- 内连接（INNER JOIN）
> SELECT A.字段名1, B.字段名2
> FROM 表名1 A
> INNER JOIN 表名2 B ON A.关联字段 = B.关联字段
> WHERE A.条件;
>
>
> -- 左外连接（LEFT JOIN）
> SELECT A.字段名1, B.字段名2
> FROM 表名1 A
> LEFT JOIN 表名2 B ON A.关联字段 = B.关联字段
> WHERE A.条件;
>
>
> -- 右外连接（RIGHT JOIN）
> SELECT A.字段名1, B.字段名2
> FROM 表名1 A
> RIGHT JOIN 表名2 B ON A.关联字段 = B.关联字段
> WHERE A.条件;
> ```
>
>
> ### 子查询
>
> 子查询是在一个查询内部嵌入的另一个查询。
> ```sql
>  -- 子查询作为WHERE子句的一部分
> SELECT 字段名1, 字段名2
> FROM 表名1
> WHERE 字段名 IN (SELECT 字段名 FROM 表名2 WHERE 条件);
>
>
> -- 子查询作为FROM子句的一部分
> SELECT A.字段名1, B.字段名2
> FROM (SELECT 字段名 FROM 表名 WHERE 条件) AS A
> JOIN 表名2 B ON A.关联字段 = B.关联字段;
> ```
>
>
> ### 联合查询（UNION）
>
> 联合查询用于合并两个或多个SELECT语句的结果集。
> ```sql
> SELECT 字段名1, 字段名2 FROM 表名1
> WHERE 条件1
> UNION
> SELECT 字段名1, 字段名2 FROM 表名2
> WHERE 条件2;
> ```
> 如果需要包含所有结果，可以使用 `UNION ALL`。
>
>
>
> ### 复杂聚合函数
>
> 在分组查询中使用多个聚合函数。
> ```sql
> SELECT 字段名, COUNT(*) AS 计数, SUM(字段名2) AS 求和, AVG(字段名2) AS 平均值
> FROM 表名
> WHERE 条件
> GROUP BY 字段名;
> ```
>
>
> ### 分页查询（LIMIT）
>
> 通常与ORDER BY结合使用，实现分页效果。
> ```sql
> SELECT *
> FROM 表名
> WHERE 条件
> ORDER BY 字段名 ASC|DESC
> LIMIT offset, length;
> ```
>
>
> ### 复杂条件查询
>
> 使用逻辑操作符AND, OR来组合多个条件。
> ```sql
> SELECT *
> FROM 表名
> WHERE (条件1 AND 条件2) OR (条件3 AND 条件4);
> ```


